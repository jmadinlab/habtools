<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Complexity metrics for DEMs • habtools</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Complexity metrics for DEMs">
<meta property="og:description" content="habtools">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">habtools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/DEM_intro.html">Complexity metrics for DEMs</a>
    </li>
    <li>
      <a href="../articles/fractal_intro.html">Fractal dimension methods</a>
    </li>
    <li>
      <a href="../articles/mesh_intro.html">Complexity metrics for 3D meshes</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/jmadinlab/habtools/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Complexity metrics for DEMs</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/jmadinlab/habtools/blob/HEAD/vignettes/DEM_intro.Rmd" class="external-link"><code>vignettes/DEM_intro.Rmd</code></a></small>
      <div class="hidden name"><code>DEM_intro.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://jmadinlab.github.io/habtools/" class="external-link">habtools</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rspatial.org/raster" class="external-link">raster</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span></code></pre></div>
<p>In this vignette, we go over the basic steps to calculate standard
complexity metrics for digital elevation models (DEMs). In this example,
we use a DEM of 8x8m with a resolution of 0.01m.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load a raster</span></span>
<span><span class="va">dem</span> <span class="op">&lt;-</span> <span class="va">horseshoe</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/dimensions.html" class="external-link">res</a></span><span class="op">(</span><span class="va">dem</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 0.01 0.01</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">dem</span><span class="op">)</span></span></code></pre></div>
<p><img src="DEM_intro_files/figure-html/unnamed-chunk-2-1.png" width="384"></p>
<p>Let’s say we want complexity metrics for a certain square of size 2m
around certain xy-coordinates. We can start by using the
<code><a href="../reference/dem_crop.html">dem_crop()</a></code> function.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dem1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dem_crop.html">dem_crop</a></span><span class="op">(</span><span class="va">horseshoe</span>, x0 <span class="op">=</span> <span class="op">-</span><span class="fl">466</span>, y0 <span class="op">=</span> <span class="fl">1269</span>, L <span class="op">=</span> <span class="fl">2</span>, plot <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="DEM_intro_files/figure-html/unnamed-chunk-3-1.png" width="384"></p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">dem1</span><span class="op">)</span></span></code></pre></div>
<p><img src="DEM_intro_files/figure-html/unnamed-chunk-3-2.png" width="384"></p>
<div class="section level2">
<h2 id="height-range">Height range<a class="anchor" aria-label="anchor" href="#height-range"></a>
</h2>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/hr.html">hr</a></span><span class="op">(</span><span class="va">dem1</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 0.9766939</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="rugosity">Rugosity<a class="anchor" aria-label="anchor" href="#rugosity"></a>
</h2>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Height variation method</span></span>
<span><span class="fu"><a href="../reference/rg.html">rg</a></span><span class="op">(</span><span class="va">dem1</span>, method <span class="op">=</span> <span class="st">"hvar"</span>, L0 <span class="op">=</span> <span class="fl">0.05</span>, parallel <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="co"># Parallel = TRUE enables parallel processing using multiple cores to speed up the calculations using the height variation method. Only use this if you have a powerful computer with at least four cores.</span></span>
<span><span class="co">#&gt; [1] 1.6123</span></span>
<span></span>
<span><span class="co"># Area method</span></span>
<span><span class="fu"><a href="../reference/rg.html">rg</a></span><span class="op">(</span><span class="va">dem1</span>, method <span class="op">=</span> <span class="st">"area"</span>, L0 <span class="op">=</span> <span class="fl">0.05</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1.619947</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="fractal-dimension">Fractal dimension<a class="anchor" aria-label="anchor" href="#fractal-dimension"></a>
</h2>
<p>The fractal dimension metric provides information about how a surface
fills a volume and indicates how space varies over various scales.
<code>habtools</code> provides different methods to estimate fractal
dimension and the result may change depending on the method chosen. See
the vignette on fractal dimension for more examples of how the results
of different methods vary. Below we focus on two methods:
<code>hvar</code> and <code>area</code>.</p>
<div class="section level3">
<h3 id="height-variation-method">Height variation method<a class="anchor" aria-label="anchor" href="#height-variation-method"></a>
</h3>
<p>The height variation method is based on the relationship between
height range and scale. Basically, the DEM is divided into small squares
with sizes specified in <code>lvec</code>. Within each square, the
height range is calculated and logged. This results in a data frame with
many height ranges (depending on the scale). This data is then
summarized by taking the mean or median. The fractal dimension is
finally calculated as: <span class="math display">\[D = 3- b,\]</span>
with b being the slope of the linear regression between height range (h)
and scale (l) <span class="math inline">\(log(h) \sim log(l)\)</span>.
Because a range of values is needed to calculate a height range the
smallest value of <code>lvec</code> should always be at least two times
the resolution of the DEM, and up to 10 times bigger. The largest value
should be the extent of the DEM square. We suggest to choose a vector of
doubling values for <code>lvec</code>. For example, if the resolution =
0.01m and the extent = 2m, we could choose <code>lvec</code> =
<code>c(0.0625, 0.125, 0.25, 0.5, 1, 2)</code>. However, to speed the
example up, we will use one order of magnitude with <code>lvec</code> =
<code>c(0.25, 0.5, 1, 2)</code>.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Height variation method</span></span>
<span><span class="fu"><a href="../reference/fd.html">fd</a></span><span class="op">(</span><span class="va">dem1</span>, method <span class="op">=</span> <span class="st">"hvar"</span>, lvec <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.25</span>, <span class="fl">0.5</span>, <span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>, plot <span class="op">=</span> <span class="cn">TRUE</span>, diagnose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="DEM_intro_files/figure-html/unnamed-chunk-7-1.png" width="384"><img src="DEM_intro_files/figure-html/unnamed-chunk-7-2.png" width="384"></p>
<pre><code><span><span class="co">#&gt; $D</span></span>
<span><span class="co">#&gt; [1] 2.387569</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $data</span></span>
<span><span class="co">#&gt;      l         h</span></span>
<span><span class="co">#&gt; 1 0.25 0.2814564</span></span>
<span><span class="co">#&gt; 2 0.50 0.4762113</span></span>
<span><span class="co">#&gt; 3 1.00 0.7949864</span></span>
<span><span class="co">#&gt; 4 2.00 0.9766939</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $lvec</span></span>
<span><span class="co">#&gt; [1] 0.25 0.50 1.00 2.00</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $D_vec</span></span>
<span><span class="co">#&gt; [1] 2.241310 2.260672 2.703024</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $var</span></span>
<span><span class="co">#&gt; [1] 0.2611609</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $method</span></span>
<span><span class="co">#&gt; [1] "hvar"</span></span></code></pre>
<p><code>diagnose=TRUE</code> allows us to visualize the calculation and
model fit. This also allows us to investigate any scale transitions in
fractal dimension and provides a list of information including the
estimated fractal dimension (D), the data used for the regression, the
<code>lvec</code>, the <code>D_vec</code> (vector of fractal dimensions
across scales), the variance of the fractal dimensions across scales,
and the method used.</p>
</div>
<div class="section level3">
<h3 id="area-method">Area method<a class="anchor" aria-label="anchor" href="#area-method"></a>
</h3>
<p>The area method operates quite differently to height variation, and
is therefore not comparable to the height variation method described
above. This method uses surface areas at varying scales and calculates
the fractal dimension as: <span class="math display">\[D = 2 -
b,\]</span> where b is the slope of the linear regression between
surface area (a) and scale (l): <span class="math inline">\(log(a) \sim
log(l)\)</span>.</p>
<p>The surface area is calculated at each scale by projecting the DEM to
the resolution of that scale. Similar to the above method, we suggest a
doubling vector for <code>lvec</code>. However, the smallest scale can
be as small as the resolution of the DEM and the largest scale should
not approach the extent DEM (ideally it stays 4 to 8 times smaller than
the extent).</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Area method</span></span>
<span><span class="fu"><a href="../reference/fd.html">fd</a></span><span class="op">(</span><span class="va">dem1</span>, method <span class="op">=</span> <span class="st">"area"</span>, lvec <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.03125</span>, <span class="fl">0.0625</span>, <span class="fl">0.125</span>, <span class="fl">0.25</span><span class="op">)</span>, diagnose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="DEM_intro_files/figure-html/unnamed-chunk-8-1.png" width="384"></p>
<pre><code><span><span class="co">#&gt; $D</span></span>
<span><span class="co">#&gt; [1] 2.231573</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $data</span></span>
<span><span class="co">#&gt;         l     area</span></span>
<span><span class="co">#&gt; 1 0.03125 7.092804</span></span>
<span><span class="co">#&gt; 2 0.06250 6.144461</span></span>
<span><span class="co">#&gt; 3 0.12500 5.163649</span></span>
<span><span class="co">#&gt; 4 0.25000 4.401752</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $lvec</span></span>
<span><span class="co">#&gt; [1] 0.03125 0.06250 0.12500 0.25000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $D_vec</span></span>
<span><span class="co">#&gt; [1] 2.207070 2.250895 2.230313</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $var</span></span>
<span><span class="co">#&gt; [1] 0.02192633</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $method</span></span>
<span><span class="co">#&gt; [1] "area"</span></span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="multiple-metrics">Multiple metrics<a class="anchor" aria-label="anchor" href="#multiple-metrics"></a>
</h2>
<p>It is possible to calculate these three metrics by using the
<code><a href="../reference/rdh.html">rdh()</a></code> function. Note that the resolution (<code>L0</code>)
for the rugosity calculation will be set as the smallest value of
<code>lvec</code> if <code>method_rg</code> is set to
<code>"hvar"</code>. This can decrease the estimate of R.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/rdh.html">rdh</a></span><span class="op">(</span><span class="va">dem1</span>, lvec <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.125</span>, <span class="fl">0.25</span>, <span class="fl">0.5</span>, <span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>, method_fd <span class="op">=</span> <span class="st">"hvar"</span>, method_rg <span class="op">=</span> <span class="st">"hvar"</span><span class="op">)</span></span>
<span><span class="co">#&gt; fd calculation using hvar method.</span></span>
<span><span class="co">#&gt; rg calculation using hvar method.</span></span>
<span><span class="co">#&gt; L0 is set to 0.125.</span></span>
<span><span class="co">#&gt;          R        D         H</span></span>
<span><span class="co">#&gt; 1 1.552032 2.300395 0.9766939</span></span>
<span><span class="fu"><a href="../reference/rdh.html">rdh</a></span><span class="op">(</span><span class="va">dem1</span>, lvec <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span> <span class="fl">0.125</span>, <span class="fl">0.25</span>, <span class="fl">0.5</span>, <span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>, method_fd <span class="op">=</span> <span class="st">"hvar"</span><span class="op">)</span></span>
<span><span class="co">#&gt; fd calculation using hvar method.</span></span>
<span><span class="co">#&gt; rg calculation using area method.</span></span>
<span><span class="co">#&gt; L0 is set to the resolution of the raster: 0.01.</span></span>
<span><span class="co">#&gt;         R        D         H</span></span>
<span><span class="co">#&gt; 1 2.12501 2.300395 0.9766939</span></span>
<span><span class="fu"><a href="../reference/rdh.html">rdh</a></span><span class="op">(</span><span class="va">dem1</span>, lvec <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.03125</span>, <span class="fl">0.0625</span>, <span class="fl">0.125</span>, <span class="fl">0.25</span><span class="op">)</span>, method_fd <span class="op">=</span> <span class="st">"area"</span><span class="op">)</span></span>
<span><span class="co">#&gt; fd calculation using area method.</span></span>
<span><span class="co">#&gt; rg calculation using area method.</span></span>
<span><span class="co">#&gt; L0 is set to the resolution of the raster: 0.01.</span></span>
<span><span class="co">#&gt;         R        D         H</span></span>
<span><span class="co">#&gt; 1 2.12501 2.231573 0.9766939</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="multiple-squares">Multiple squares<a class="anchor" aria-label="anchor" href="#multiple-squares"></a>
</h2>
<p>The function <code><a href="../reference/dem_split.html">dem_split()</a></code> allows you to subdivide a DEM
into equal parts. Let’s divide the big raster into 2x2m squares. Note
that this function will only work well if you have a square DEM. You
also want to choose the size so that the DEM can be divided into equal
parts. You can then calculate metrics for the list of DEMs.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dem_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dem_split.html">dem_split</a></span><span class="op">(</span><span class="va">dem</span>, size <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="co"># calculate one metric for all squares</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="va">dem_list</span>, <span class="va">hr</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] 0.5169916 0.6127143 0.8386080 0.8948445 0.6774139 0.9407241 0.9958875</span></span>
<span><span class="co">#&gt;  [8] 0.9968965 1.1133885 1.0766172 1.1218033 1.0029795 0.9923670 1.1646364</span></span>
<span><span class="co">#&gt; [15] 0.9986641 1.3692834</span></span>
<span></span>
<span><span class="co"># calculate multiple metrics</span></span>
<span><span class="va">data_rdh</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressMessages</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">dem_list</span>, <span class="va">rdh</span>, method_fd <span class="op">=</span> <span class="st">"hvar"</span>, lvec <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.25</span>, <span class="fl">0.5</span>, <span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_rows.html" class="external-link">bind_rows</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">data_rdh</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">R</span>, y <span class="op">=</span> <span class="va">H</span>, color <span class="op">=</span> <span class="va">D</span>, size <span class="op">=</span> <span class="va">D</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_classic</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="DEM_intro_files/figure-html/unnamed-chunk-12-1.png" width="384"></p>
</div>
<div class="section level2">
<h2 id="sample-a-random-square">Sample a random square<a class="anchor" aria-label="anchor" href="#sample-a-random-square"></a>
</h2>
<p><code>habtools</code> also provides a way to crop a random square out
of a DEM.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dem</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dem_sample.html">dem_sample</a></span><span class="op">(</span><span class="va">horseshoe</span>, L<span class="op">=</span><span class="fl">2</span>, plot<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="DEM_intro_files/figure-html/unnamed-chunk-13-1.png" width="384"></p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">dem</span><span class="op">)</span></span></code></pre></div>
<p><img src="DEM_intro_files/figure-html/unnamed-chunk-13-2.png" width="384"></p>
</div>
<div class="section level2">
<h2 id="rules-of-thumb">Rules of thumb<a class="anchor" aria-label="anchor" href="#rules-of-thumb"></a>
</h2>
<ul>
<li>When analyzing and comparing multiple DEMs, make sure that each DEM
has the same resolution and extent.</li>
<li>When using the <code>hvar</code> method, the smallest value of
<code>lvec</code> should be between two times and ten higher than the
resolution.</li>
<li>When using the <code>hvar</code> method, the extent (highest value
of <code>lvec</code>) should ideally be 1 to 2 orders of magnitudes
higher compared to smallest value of <code>lvec</code>.</li>
<li>
<code>lvec</code> values should match scales of particular interest
(e.g. matching body sizes of animals inhabiting the surface).</li>
<li>When using the <code>area</code> method, the <code>lvec</code> can
range from the resolution to around 1/8 of the extent. Higher scales
will increase bias of the method.</li>
<li>
<code>lvec</code> and chosen method needs to be the same across all
calculations to make comparisons among DEMs.</li>
</ul>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Joshua Madin, Nina Schiettekatte.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
